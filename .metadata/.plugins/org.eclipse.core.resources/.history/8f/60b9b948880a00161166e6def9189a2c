package ai.star.csp;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.PriorityQueue;
import java.util.Random;


public class ForwardCheckingWithMRV {
	public ArrayList<int[]> solutions = new ArrayList<int[]>();
	public int nodesComputed = 0;
	public void forwardCheckingWithMRV(int numberOfQueens, boolean compare){
		PuzzleBoard puzzleBoard = new PuzzleBoard(numberOfQueens);
		
		// Initially shuffle all the queens, since each has same MRV,
		// instead of going sequentially, go in randomized order
		int[] queenIndeces = new int[numberOfQueens];
		for(int i=0;i< numberOfQueens;i++)
			queenIndeces[i] = i;
		shuffleArray(queenIndeces); // random complete assignment
		
		// shuffled queens are added to priority queue based on MRV
		PriorityQueue<QueenMRV> queue =new PriorityQueue<QueenMRV>(numberOfQueens);// prioritize queens according to the number of conflicts
		for(int i=0;i<numberOfQueens;i++){
			queue.add(new QueenMRV(queenIndeces[i],numberOfQueens));
		}
		
		MRV(puzzleBoard, new QueenMRV(), queue);
		
	}
	
	public int MRV(PuzzleBoard puzzleBoard, QueenMRV currentQueen, PriorityQueue<QueenMRV> queenQueue) {
		int returnValue = 0;
		if(queenQueue.isEmpty())
		{
			System.out.println(Arrays.toString(puzzleBoard.queenPlacement));
			return 0;
		}
		if(currentQueen.mininumRemainingValues == 0)
			return -1;
		do{
			
		}while(returnValue == -1);
		return 0;
	}
	
	void shuffleArray(int[] queenPlacement)
	  {
	    // If running on Java 6 or older, use `new Random()` on RHS here
	    Random rnd = new Random();
	    for (int i = queenPlacement.length - 1; i > 0; i--)
	    {
	      int index = rnd.nextInt(i + 1);
	      // Simple swap
	      int a = queenPlacement[index];
	      queenPlacement[index] = queenPlacement[i];
	      queenPlacement[i] = a;
	    }
	  }
	
	public void MRV(){
		
	}

	public static void main(String[] args) {
		ForwardCheckingWithMRV fMRV = new ForwardCheckingWithMRV();
		fMRV.forwardCheckingWithMRV(4, true);
	}
}
